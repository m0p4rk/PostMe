<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.postme.mapper.CommentMapper">

	<select id="getAllCommentList"
			resultType="com.spring.postme.model.Comment">
		SELECT c.content 
		FROM comments c, posts p
		WHERE c.#{postId} = p.Id
	</select>

	<insert id="insertComment"
			parameterType = "com.spring.postme.model.Comment">
		INSERT INTO comments (postId, userId, content)
		VALUES (#{postId}, #{userId}, #{content})
	</insert>

	<select id = "getCommentByuserId"
 			parameterType="_int"
 			resultType = "com.spring.postme.model.Comment">
 		SELECT content 
 		FROM comments
 		WHERE userId = #{userId}
 	</select> 

	<update id="updateComment"
			parameterType = "com.spring.postme.model.Comment">
		UPDATE comments
		SET content = #{content}
		WHERE userId = #{userId}
	</update>

	<delete id="deleteComment"
			parameterType="_int">
		DELETE FROM comments
		WHERE userId = #{userId}
	</delete>


</mapper>